<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Quiz: Elektrizitätslehre</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: Arial, sans-serif;
  background-color: #e0f7fa;
  margin: 0;
  padding: 20px;
  display: flex;
  justify-content: center;
  align-items: start;
  min-height: 100vh;
}

.container {
  width: 95%;
  background-color: #ffffff;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  display: flex;
  flex-direction: column;
  min-height: 90vh;
  height: auto;          
}

    h2 {
      color: #004d40;
      text-align: center;
      margin-bottom: 20px;
    }
    .frage {
      flex: 1;
      font-size: 20px;
      margin-bottom: 20px;
    }
    .antworten {
      flex: 2;
      display: flex;
      flex-direction: column;
    }
    .antworten button {
      margin: 8px 0;
      padding: 14px;
      font-size: 18px;
      font-weight: bold;
      color: #000;
      background-color: #4dd0e1;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .antworten button:hover {
      background-color: #00bcd4;
    }
    .antworten button.correct {
      background-color: #66bb6a;
    }
    .antworten button.wrong {
      background-color: #ef5350;
    }
    .navigation {
      display: none;
      margin-top: 20px;
      justify-content: center;
      gap: 20px; /* Abstand zwischen den Buttons */
    }
    .navigation button {
      padding: 12px 24px;
      font-size: 16px;
      font-weight: bold;
      color: #fff;
      background-color: #004d40;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .navigation button:hover {
      background-color: #00332b;
    }
    .ergebnis {
  display: none;
  text-align: left;
  font-size: 18px;
  color: #004d40;
  margin-top: 20px;
  overflow-wrap: break-word;
  max-width: 100%;
}
.ergebnis ul {
  padding-left: 20px;
}
.ergebnis li {
  margin-bottom: 10px;
}
    .level-auswahl {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 10px; /* Nach oben verschieben */
    }
    .level-auswahl button {
      margin: 10px;
      padding: 12px 24px;
      font-size: 18px;
      font-weight: bold;
      color: #fff;
      background-color: #00796b;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .level-auswahl button:hover {
      background-color: #004d40;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Quiz: Elektrizitätslehre</h2>
    <div class="level-auswahl" id="level-auswahl">
      <button onclick="startQuiz('leicht')">Leicht</button>
      <button onclick="startQuiz('mittel')">Mittel</button>
      <button onclick="startQuiz('schwer')">Schwer</button>
    </div>
    <div class="frage" id="frage" style="display: none;"></div>
    <div class="antworten" id="antworten" style="display: none;"></div>
    <div class="ergebnis" id="ergebnis"></div>
    <div class="navigation" id="navigation">
      <button onclick="restart()">Wiederholen</button>
      <button onclick="Levels()">Levels</button>
    </div>
  </div>
  <script>
    let wrongAnswers = [];

    const allQuestions = [
  { question: "Was ist die Einheit der elektrischen Stromstärke?", answers: ["Volt", "Ohm", "Ampere", "Watt"], correct: 2, level: "leicht" },
  { question: "Was ist die Einheit der elektrischen Spannung?", answers: ["Ampere", "Volt", "Ohm", "Joule"], correct: 1, level: "leicht" },
  { question: "Was ist die Ursache für elektrischen Stromfluss?", answers: ["Druckunterschied", "Temperaturdifferenz", "Spannung", "Frequenz"], correct: 2, level: "leicht" },
  { question: "Welche Ladung hat ein Elektron?", answers: ["Positiv", "Negativ", "Neutral", "Doppelt negativ"], correct: 1, level: "leicht" },
  { question: "Was ist ein Leiter?", answers: ["Ein Stoff, der keinen Strom leitet", "Ein Stoff, der elektrischen Strom gut leitet", "Ein Isolator", "Ein Halbleiter"], correct: 1, level: "leicht" },
  { question: "Was ist ein Isolator?", answers: ["Ein Stoff mit hohem Widerstand", "Ein Stromleiter", "Ein Magnet", "Ein Elektronenspender"], correct: 0, level: "leicht" },
  { question: "Was beschreibt das Ohm'sche Gesetz?", answers: ["P = U × I", "U = R × I", "F = m × a", "Q = m × c × ΔT"], correct: 1, level: "leicht" },
  { question: "Welche Einheit hat der elektrische Widerstand?", answers: ["Ampere", "Watt", "Volt", "Ohm"], correct: 3, level: "leicht" },
  { question: "Was passiert mit dem Strom in einer Reihenschaltung?", answers: ["Er teilt sich auf", "Er bleibt überall gleich", "Er fließt nicht", "Er ist am Ende größer"], correct: 1, level: "leicht" },
  { question: "Was passiert mit der Spannung in einer Parallelschaltung?", answers: ["Sie ist in jedem Zweig gleich", "Sie wird halbiert", "Sie steigt", "Sie wird null"], correct: 0, level: "leicht" },
  { question: "Was transportiert der elektrische Strom?", answers: ["Wärme", "Licht", "Ladung", "Magnetismus"], correct: 2, level: "leicht" },
  { question: "Welche Einheit steht für elektrische Leistung?", answers: ["Ohm", "Watt", "Coulomb", "Volt"], correct: 1, level: "leicht" },
  { question: "Wie lautet die Formel für elektrische Leistung?", answers: ["P = U / R", "P = U × I", "P = I / R", "P = R × U"], correct: 1, level: "leicht" },
  { question: "Was ist ein Kurzschluss?", answers: ["Ein Stromkreis mit hohem Widerstand", "Ein Stromkreis ohne Spannung", "Ein Stromkreis mit sehr niedrigem Widerstand", "Ein isolierter Stromkreis"], correct: 2, level: "leicht" },
  { question: "Was passiert, wenn man die Spannung erhöht (bei konstantem Widerstand)?", answers: ["Der Strom sinkt", "Der Strom bleibt gleich", "Der Strom steigt", "Der Widerstand sinkt"], correct: 2, level: "leicht" },
  { question: "Was ist ein Stromkreis?", answers: ["Ein Strom ohne Spannung", "Ein geschlossener Weg für den Stromfluss", "Ein Kreis aus Magnetfeldern", "Ein Blockierer von Strom"], correct: 1, level: "leicht" },
  { question: "Was ist ein elektrischer Verbraucher?", answers: ["Ein Gerät, das Strom erzeugt", "Ein Gerät, das Strom speichert", "Ein Gerät, das Strom aufnimmt und Energie umwandelt", "Ein Stromschalter"], correct: 2, level: "leicht" },
  { question: "Wie nennt man die Stromrichtung im technischen Sinn?", answers: ["Von Minus zu Plus", "Von Plus zu Minus", "Zufällig", "Im Kreis"], correct: 1, level: "leicht" },
  { question: "Was erzeugt ein elektrischer Strom in einem Draht?", answers: ["Ein Magnetfeld", "Schall", "Licht", "Vakuum"], correct: 0, level: "leicht" },
  { question: "Was bedeutet Gleichstrom (DC)?", answers: ["Der Strom wechselt ständig die Richtung", "Der Strom fließt in eine Richtung", "Der Strom ist sinusförmig", "Der Strom fließt nicht"], correct: 1, level: "leicht" },
  { question: "Was bedeutet Wechselstrom (AC)?", answers: ["Strom fließt in beide Richtungen periodisch", "Strom bleibt konstant", "Strom ist unterbrochen", "Strom fließt nur im Kreis"], correct: 0, level: "leicht" },
  { question: "Was ist die Funktion eines Schalters im Stromkreis?", answers: ["Er speichert Strom", "Er reguliert die Stromstärke", "Er unterbricht oder schließt den Stromkreis", "Er misst die Spannung"], correct: 2, level: "leicht" },
  { question: "Was ist eine Sicherung im Stromkreis?", answers: ["Ein Gerät zum Erhöhen der Spannung", "Ein Schutz, der bei Überstrom den Stromkreis unterbricht", "Ein Strommesser", "Ein Spannungsverstärker"], correct: 1, level: "leicht" },
  { question: "Was passiert, wenn der Widerstand in einem Stromkreis steigt (bei konstanter Spannung)?", answers: ["Der Strom steigt", "Der Strom bleibt gleich", "Der Strom sinkt", "Die Spannung sinkt"], correct: 2, level: "leicht" },
  { question: "Welche Spannung hat eine gewöhnliche Haushaltssteckdose (Europa)?", answers: ["12 Volt", "110 Volt", "230 Volt", "400 Volt"], correct: 2, level: "leicht" },
  { question: "Was ist die elektrische Ladung eines Elektrons?", answers: ["+1,6 × 10⁻¹⁹ C", "–1,6 × 10⁻¹⁹ C", "0", "1 C"], correct: 1, level: "leicht" },
  { question: "Welche Einheit hat elektrische Ladung?", answers: ["Ampere", "Watt", "Coulomb", "Ohm"], correct: 2, level: "leicht" },
  { question: "Was passiert bei einer offenen Leitung im Stromkreis?", answers: ["Der Strom fließt", "Der Strom erhöht sich", "Der Strom wird unterbrochen", "Die Spannung sinkt"], correct: 2, level: "leicht" },
  { question: "Was ist eine Spannungsquelle?", answers: ["Ein Gerät, das Strom speichert", "Ein Gerät, das elektrische Energie bereitstellt", "Ein Isolator", "Ein Stromverbraucher"], correct: 1, level: "leicht" },
  { question: "Wie wird Spannung gemessen?", answers: ["Mit einem Ohmmeter", "Mit einem Voltmeter", "Mit einem Amperemeter", "Mit einem Thermometer"], correct: 1, level: "leicht" },
  { question: "Was beschreibt die elektrische Feldstärke E?", answers: ["Spannung pro Zeit", "Ladung pro Fläche", "Kraft pro Ladung", "Strom pro Fläche"], correct: 2, level: "mittel" },
  { question: "Wie verhält sich der elektrische Strom in einer Parallelschaltung?", answers: ["Er ist überall gleich", "Er teilt sich auf die Zweige auf", "Er wird durch Spannung bestimmt", "Er hängt nicht vom Widerstand ab"], correct: 1, level: "mittel" },
  { question: "Welche physikalische Größe gibt die Fähigkeit eines Leiters an, den Strom zu behindern?", answers: ["Spannung", "Leistung", "Widerstand", "Kapazität"], correct: 2, level: "mittel" },
  { question: "Was passiert mit dem Gesamtwiderstand bei einer Parallelschaltung von zwei Widerständen?", answers: ["Er verdoppelt sich", "Er ist kleiner als der kleinste Einzelwiderstand", "Er bleibt gleich", "Er entspricht der Summe"], correct: 1, level: "mittel" },
  { question: "Was beschreibt die Kapazität eines Kondensators?", answers: ["Fähigkeit zur Stromleitung", "Fähigkeit, elektrische Ladung zu speichern", "Elektrische Spannung", "Widerstand bei Wechselstrom"], correct: 1, level: "mittel" },
  { question: "Welche Einheit hat die Kapazität?", answers: ["Henry", "Weber", "Farad", "Coulomb"], correct: 2, level: "mittel" },
  { question: "Wie verändert sich die Stromstärke bei konstantem Widerstand, wenn die Spannung verdoppelt wird?", answers: ["Sie halbiert sich", "Sie bleibt gleich", "Sie verdoppelt sich", "Sie steigt quadratisch"], correct: 2, level: "mittel" },
  { question: "Was ist die Funktion eines Widerstands im Stromkreis?", answers: ["Er erzeugt Strom", "Er speichert Ladung", "Er begrenzt den Stromfluss", "Er erhöht die Spannung"], correct: 2, level: "mittel" },
  { question: "Wie lautet das Ohm’sche Gesetz in seiner Grundform?", answers: ["U = R × I", "P = U / I", "R = P / I", "I = U × R"], correct: 0, level: "mittel" },
  { question: "Was ist die Ursache für den Spannungsabfall über einem Widerstand?", answers: ["Ladungsspeicherung", "Energieverlust durch Wärme", "Induktion", "Lichtemission"], correct: 1, level: "mittel" },
  { question: "Welche Einheit ergibt sich aus Volt × Ampere?", answers: ["Joule", "Coulomb", "Watt", "Ohm"], correct: 2, level: "mittel" },
  { question: "Was beschreibt die elektrische Arbeit?", answers: ["Ladung × Spannung", "Strom × Spannung", "Leistung × Zeit", "Spannung / Strom"], correct: 2, level: "mittel" },
  { question: "Wie hängt die Leistung P mit Spannung U und Widerstand R zusammen?", answers: ["P = U² / R", "P = R² / U", "P = U × R", "P = U / R²"], correct: 0, level: "mittel" },
  { question: "Wie verhält sich die Spannung in einer Reihenschaltung?", answers: ["Sie ist überall gleich", "Sie teilt sich proportional zu den Widerständen auf", "Sie hängt nur von der Quelle ab", "Sie ist in jedem Teil gleich 0"], correct: 1, level: "mittel" },
  { question: "Was passiert mit einem Kondensator bei konstanter Gleichspannung über lange Zeit?", answers: ["Er wird entladen", "Er leitet dauerhaft Strom", "Er ist vollständig geladen, Stromfluss hört auf", "Er erhöht die Spannung"], correct: 2, level: "mittel" },
  { question: "Was ist ein Vorteil der Parallelschaltung von Kondensatoren?", answers: ["Geringere Gesamtkapazität", "Höhere Gesamtkapazität", "Spannung sinkt", "Kein Stromfluss"], correct: 1, level: "mittel" },
  { question: "Was versteht man unter elektrischer Stromdichte?", answers: ["Strom pro Fläche", "Ladung pro Zeit", "Spannung pro Strom", "Leistung pro Widerstand"], correct: 0, level: "mittel" },
  { question: "Was beschreibt der Begriff 'elektrische Leistung'?", answers: ["Kraft pro Zeit", "Energie pro Zeit", "Ladung pro Spannung", "Strom pro Fläche"], correct: 1, level: "mittel" },
  { question: "Welche Aussage zur Erdung ist korrekt?", answers: ["Erdung verhindert Stromfluss", "Erdung dient zur Stromspeicherung", "Erdung leitet Fehlerströme sicher ab", "Erdung ist nicht notwendig"], correct: 2, level: "mittel" },
  { question: "Was beschreibt die Leitfähigkeit eines Materials?", answers: ["Stromstärke", "Widerstand", "Fähigkeit, Strom zu leiten", "Spannung"], correct: 2, level: "mittel" },
  { question: "Welche Eigenschaft beschreibt den spezifischen Widerstand eines Materials?", answers: ["Stromstärke", "Ladung", "Materialabhängiger Widerstand pro Länge und Querschnitt", "Kapazität"], correct: 2, level: "mittel" },
  { question: "Was ist der Zusammenhang zwischen elektrischer Arbeit W und Spannung U bei gegebener Ladung Q?", answers: ["W = Q / U", "W = Q × U", "W = U / Q", "W = Q × R"], correct: 1, level: "mittel" },
  { question: "Was passiert mit der Leistung in einem Leiter bei steigender Stromstärke (konstante Spannung)?", answers: ["Sie sinkt", "Sie bleibt gleich", "Sie steigt", "Sie fällt auf null"], correct: 2, level: "mittel" },
  { question: "Was ist eine Diode in einem Stromkreis?", answers: ["Ein Gleichstromgenerator", "Ein Bauteil, das Strom nur in eine Richtung leitet", "Ein Widerstand", "Ein Stromzähler"], correct: 1, level: "mittel" },
  { question: "Was passiert bei einer Parallelschaltung von zwei identischen Widerständen?", answers: ["Gesamtwiderstand halbiert sich", "Widerstand verdoppelt sich", "Gesamtstrom halbiert sich", "Spannung steigt"], correct: 0, level: "mittel" },
  { question: "Welche Aussage über Halbleiter ist korrekt?", answers: ["Sie leiten besser als Metalle", "Sie sind perfekte Isolatoren", "Leitfähigkeit steigt mit Temperatur", "Leitfähigkeit sinkt mit Spannung"], correct: 2, level: "mittel" },
  { question: "Welche Größe ist direkt proportional zur Spannung bei konstantem Widerstand?", answers: ["Leistung", "Widerstand", "Stromstärke", "Ladung"], correct: 2, level: "mittel" },
  { question: "Was beschreibt die Kirchhoffsche Knotenregel?", answers: ["Summe aller Spannungen im Kreis ist null", "Summe aller Ströme in einem Knoten ist null", "Summe aller Leistungen ist null", "Summe aller Widerstände ist null"], correct: 1, level: "mittel" },
  { question: "Was passiert mit der Spannung in einer Parallelschaltung bei Last?", answers: ["Sie steigt", "Sie bleibt gleich", "Sie fällt stark ab", "Sie oszilliert"], correct: 1, level: "mittel" },
  { question: "Welche Einheit ergibt sich aus Coulomb pro Sekunde?", answers: ["Watt", "Ampere", "Volt", "Ohm"], correct: 1, level: "mittel" },
  { question: "Was beschreibt die elektrische Feldenergie pro Volumen?", answers: ["E = ½ · ε · E²", "E = q · E", "E = ε · E", "E = ½ · q · V"], correct: 0, level: "schwer" },
  { question: "Was passiert mit der Energie in einem idealen Kondensator, wenn der Plattenabstand verdoppelt wird (bei konstanter Ladung)?", answers: ["Sie bleibt gleich", "Sie halbiert sich", "Sie vervierfacht sich", "Sie verdoppelt sich"], correct: 3, level: "schwer" },
  { question: "Welche Einheit ergibt sich dimensionsanalytisch für die elektrische Feldstärke?", answers: ["kg·m/s²", "N/C", "V/m", "Beides b und c"], correct: 3, level: "schwer" },
  { question: "Welche Aussage zur Driftgeschwindigkeit von Elektronen ist korrekt?", answers: ["Sie ist gleich der Lichtgeschwindigkeit", "Sie ist sehr gering trotz hoher Stromstärken", "Sie ist proportional zur Stromdichte und umgekehrt proportional zur Ladungsträgerkonzentration", "Sie hängt nur vom Widerstand ab"], correct: 2, level: "schwer" },
  { question: "Welche Aussage zum elektrischen Potenzial ist korrekt?", answers: ["Es ist eine vektorielle Größe", "Es beschreibt die Feldlinienrichtung", "Es ist eine skalare Größe und beschreibt die potenzielle Energie pro Ladung", "Es ist gleich der Stromstärke"], correct: 2, level: "schwer" },
  { question: "Was passiert in einem idealen Supraleiter?", answers: ["Spannung steigt bei konstantem Strom", "Strom fließt ohne Widerstand", "Der Widerstand ist sehr hoch", "Der Strom wird reflektiert"], correct: 1, level: "schwer" },
  { question: "Wie lautet der Zusammenhang zwischen elektrischer Leitfähigkeit σ und spezifischem Widerstand ρ?", answers: ["σ = ρ²", "σ = 1/ρ", "σ = ρ", "σ = √ρ"], correct: 1, level: "schwer" },
  { question: "Wie verhält sich die Stromdichte J in einem Material bei konstantem E-Feld?", answers: ["Sie ist unabhängig vom Material", "Sie ist proportional zur Leitfähigkeit", "Sie ist gleich der Spannung", "Sie sinkt mit Temperatur"], correct: 1, level: "schwer" },
  { question: "Was ist die Energiedichte im elektrischen Feld eines Plattenkondensators?", answers: ["½ · ε · E²", "E / d", "C · U", "Q / V"], correct: 0, level: "schwer" },
  { question: "Was passiert bei einer Entladung eines geladenen Kondensators über einen Widerstand?", answers: ["Die Spannung bleibt konstant", "Die Spannung steigt exponentiell", "Die Spannung fällt exponentiell ab", "Der Strom steigt stetig"], correct: 2, level: "schwer" },
  { question: "Welche Aussage zur Dielektrizitätskonstante ist korrekt?", answers: ["Sie beschreibt die Leitfähigkeit", "Sie ist für Metalle sehr groß", "Sie beschreibt, wie stark ein Medium ein elektrisches Feld beeinflusst", "Sie ist für Vakuum unendlich"], correct: 2, level: "schwer" },
  { question: "Welche Aussage zur Zeitkonstante τ eines RC-Glieds ist korrekt?", answers: ["τ = R · C", "τ = 1 / (R · C)", "τ = R / C", "τ = C / R"], correct: 0, level: "schwer" },
  { question: "Was ist die Ursache für den Haut-Effekt bei Wechselstrom?", answers: ["Elektronenansammlung", "Magnetfeldverdrängung führt zu höherem Widerstand in der Mitte", "Ladungskonzentration an den Polen", "Kapazitive Effekte in Leitern"], correct: 1, level: "schwer" },
  { question: "Wie verhält sich die Impedanz Z bei einer Reihenschaltung aus R, L und C bei Resonanz?", answers: ["Z = R", "Z = 0", "Z = ∞", "Z = 1 / R"], correct: 0, level: "schwer" },
  { question: "Was ist die Phasenverschiebung zwischen Strom und Spannung bei einem idealen Kondensator?", answers: ["0°", "90°", "180°", "–90°"], correct: 3, level: "schwer" },
  { question: "Was ist die Frequenz f₀ bei einem LC-Schwingkreis?", answers: ["f₀ = 1 / (2π√LC)", "f₀ = √(L/C)", "f₀ = LC", "f₀ = 1 / LC"], correct: 0, level: "schwer" },
  { question: "Was beschreibt der Begriff 'Blindleistung' in Wechselstromkreisen?", answers: ["Verlustleistung", "Leistung, die nicht zur Energieübertragung genutzt wird", "Leistung in Gleichstromkreisen", "Die tatsächliche Wirkleistung"], correct: 1, level: "schwer" },
  { question: "Was ist die Ursache für kapazitiven Blindwiderstand?", answers: ["Induktion", "Strom eilt der Spannung voraus", "Spannung eilt dem Strom voraus", "Elektronenspin"], correct: 1, level: "schwer" },
  { question: "Wie verhält sich der Wechselstromwiderstand eines Kondensators bei steigender Frequenz?", answers: ["Er steigt", "Er bleibt konstant", "Er sinkt", "Er wird negativ"], correct: 2, level: "schwer" },
  { question: "Wie verhält sich der Blindwiderstand einer Spule mit zunehmender Frequenz?", answers: ["Er sinkt", "Er steigt", "Er bleibt konstant", "Er oszilliert"], correct: 1, level: "schwer" },
  { question: "Was ist ein typisches Verhalten bei Resonanz in einem RLC-Kreis?", answers: ["Maximale Spannung am Kondensator", "Minimale Impedanz", "Strom ist null", "Phasenverschiebung von 90°"], correct: 1, level: "schwer" },
  { question: "Welche Aussage zur Leitwertmatrix ist korrekt?", answers: ["Sie gilt nur für lineare Gleichstromsysteme", "Sie beschreibt Spannungsverteilungen", "Sie ist die Inverse der Impedanzmatrix", "Sie basiert auf komplexer Ladungsverteilung"], correct: 2, level: "schwer" },
  { question: "Wie lautet die Einheit der elektrischen Feldkonstante ε₀?", answers: ["F/m", "C/m²", "N·m²/C²", "J/C"], correct: 0, level: "schwer" },
  { question: "Wie lautet die Formel für die Energie eines geladenen Kondensators?", answers: ["E = C × U", "E = ½ × C × U²", "E = Q × U", "E = U / C"], correct: 1, level: "schwer" },
  { question: "Welche Einheit hat der spezifische Widerstand ρ?", answers: ["Ω·m", "Ω/m", "Ω·m²", "Ω⁻¹·m"], correct: 0, level: "schwer" },
  { question: "Was beschreibt der Begriff 'Verlustwinkel' bei einem realen Kondensator?", answers: ["Phase zwischen Strom und Spannung", "Maß für Energieverlust durch Erwärmung", "Spannungsverlust pro Grad", "Frequenzabweichung"], correct: 1, level: "schwer" },
  { question: "Was beschreibt die Stromdichte j in einem elektrischen Leiter?", answers: ["Strom pro Fläche", "Strom pro Spannung", "Widerstand pro Fläche", "Spannung pro Strom"], correct: 0, level: "schwer" },
  { question: "Welche Beziehung gilt im stationären Zustand für einen Plattenkondensator mit Gleichspannung?", answers: ["Strom fließt stetig", "Feld ist null", "Es fließt kein Strom mehr", "Kapazität steigt"], correct: 2, level: "schwer" },
  { question: "Welche Rolle spielt die relative Dielektrizitätskonstante ε_r?", answers: ["Beeinflusst die Frequenz", "Gibt das Verhältnis der Feldstärke im Vakuum zu einem Material an", "Beeinflusst den elektrischen Strom", "Hat keine praktische Bedeutung"], correct: 1, level: "schwer" },
  { question: "Was ist die SI-Einheit der elektrischen Stromdichte?", answers: ["A/m²", "V/m", "Ω·m", "J/m²"], correct: 0, level: "schwer" }
];

    let questions = [];
    let used = [];
    let correctCount = 0;
    let askedCount = 0;

    function startQuiz(selectedLevel) {
      questions = allQuestions.filter(q => q.level === selectedLevel);
      document.getElementById('level-auswahl').style.display = 'none';
      document.getElementById('frage').style.display = 'block';
      document.getElementById('antworten').style.display = 'flex';
      showNext();
    }

    function getRandomIndex() {
      if (used.length === questions.length) used = [];
      let idx;
      do {
        idx = Math.floor(Math.random() * questions.length);
      } while (used.includes(idx));
      used.push(idx);
      return idx;
    }

    function showNext() {
      if (askedCount >= questions.length) {
        showResult();
        return;
      }
      askedCount++;
      const idx = getRandomIndex();
      const q = questions[idx];
      document.getElementById('frage').textContent = q.question;
      const container = document.getElementById('antworten');
      container.innerHTML = '';
      q.answers.forEach((ans, i) => {
        const btn = document.createElement('button');
        btn.textContent = ans;
btn.onclick = () => {
  if (i === q.correct) {
    btn.classList.add('correct');
    correctCount++;
  } else {
    btn.classList.add('wrong');
    wrongAnswers.push({
      question: q.question,
      selected: q.answers[i],
      correct: q.answers[q.correct]
    });

    setTimeout(() => {
      Array.from(container.children)[q.correct].classList.add('correct');
    }, 100);
  }
  setTimeout(showNext, 1000);
};
        container.appendChild(btn);
      });
    }

function showResult() {
  document.getElementById('frage').style.display = 'none';
  document.getElementById('antworten').style.display = 'none';
  const percent = Math.round((correctCount / askedCount) * 100);
  const ergebnisDiv = document.getElementById('ergebnis');

  let resultText = `Du hast ${correctCount} von ${askedCount} richtig (${percent}%)`;

  if (wrongAnswers.length > 0) {
    resultText += "<br><br><strong>Falsch beantwortete Fragen:</strong><ul>";
    wrongAnswers.forEach(item => {
      resultText += `<li><strong>Frage:</strong> ${item.question}<br>
                     <strong>Deine Antwort:</strong> ${item.selected}<br>
                     <strong>Richtige Antwort:</strong> ${item.correct}</li><br>`;
    });
    resultText += "</ul>";
  }

  ergebnisDiv.innerHTML = resultText;
  ergebnisDiv.style.display = 'block';
  document.getElementById('navigation').style.display = 'flex';
}

    function restart() {
      used = [];
      correctCount = 0;
      askedCount = 0;
      wrongAnswers = [];
      document.getElementById('ergebnis').style.display = 'none';
      document.getElementById('navigation').style.display = 'none';
      startQuiz(questions[0].level); // Restart with the same level
    }

    function Levels() {
      used = [];
      correctCount = 0;
      askedCount = 0;
      wrongAnswers = [];
      document.getElementById('frage').style.display = 'none';
      document.getElementById('antworten').style.display = 'none';
      document.getElementById('ergebnis').style.display = 'none';
      document.getElementById('navigation').style.display = 'none';
      document.getElementById('level-auswahl').style.display = 'flex';
    }
  </script>
</body>
</html>
